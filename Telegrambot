from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, CommandHandler, CallbackQueryHandler, ContextTypes

# Токен вашего бота
TOKEN = "6870674489:AAEZcT-C23VY8AK6o-ktWmwhbQZ1pv6J8fo"

# Функция стартового сообщения
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    # Создание клавиатуры из 10 кнопок
    keyboard = [
        [InlineKeyboardButton(f"Кнопка {i+1}", callback_data=f"button_{i+1}")]
        for i in range(10)
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    # Отправка клавиатуры пользователю
    await update.message.reply_text("Выберите кнопку:", reply_markup=reply_markup)

# Функция для обработки нажатий на кнопки
async def button_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()  # Подтверждаем получение запроса
    
    # Определяем, какая кнопка была нажата
    button_id = query.data  # callback_data, например "button_1", "button_2", и т.д.
    
    # Обработка разных веток в зависимости от нажатой кнопки
    if button_id == "button_1":
        await query.edit_message_text(text="Вы выбрали первую кнопку! Добро пожаловать в ветку 1.")
    elif button_id == "button_2":
        await query.edit_message_text(text="Вы выбрали вторую кнопку! Добро пожаловать в ветку 2.")
    elif button_id == "button_3":
        await query.edit_message_text(text="Вы выбрали третью кнопку! Добро пожаловать в ветку 3.")
    elif button_id == "button_4":
        await query.edit_message_text(text="Вы выбрали четвертую кнопку! Добро пожаловать в ветку 4.")
    elif button_id == "button_5":
        await query.edit_message_text(text="Вы выбрали пятую кнопку! Добро пожаловать в ветку 5.")
    elif button_id == "button_6":
        await query.edit_message_text(text="Вы выбрали шестую кнопку! Добро пожаловать в ветку 6.")
    elif button_id == "button_7":
        await query.edit_message_text(text="Вы выбрали седьмую кнопку! Добро пожаловать в ветку 7.")
    elif button_id == "button_8":
        await query.edit_message_text(text="Вы выбрали восьмую кнопку! Добро пожаловать в ветку 8.")
    elif button_id == "button_9":
        await query.edit_message_text(text="Вы выбрали девятую кнопку! Добро пожаловать в ветку 9.")
    elif button_id == "button_10":
        await query.edit_message_text(text="Вы выбрали десятую кнопку! Добро пожаловать в ветку 10.")
    else:
        await query.edit_message_text(text="Неизвестная кнопка.")

# Главная функция для запуска бота
def main():
    app = Application.builder().token(TOKEN).build()

    # Регистрация обработчиков
    app.add_handler(CommandHandler("start", start))
    app.add_handler(CallbackQueryHandler(button_handler))
    
    # Запуск бота
    app.run_polling()

if __name__ == "__main__":
    main()